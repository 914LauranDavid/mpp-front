{
  "version": 3,
  "sources": ["../../react-detect-offline/dist/index.js"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Detector = exports.Offline = exports.Online = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar inBrowser = typeof navigator !== \"undefined\";\n\n// these browsers don't fully support navigator.onLine, so we need to use a polling backup\nvar unsupportedUserAgentsPattern = /Windows.*Chrome|Windows.*Firefox|Linux.*Chrome/;\n\nvar ping = function ping(_ref) {\n  var url = _ref.url,\n      timeout = _ref.timeout;\n\n  return new Promise(function (resolve) {\n    var isOnline = function isOnline() {\n      return resolve(true);\n    };\n    var isOffline = function isOffline() {\n      return resolve(false);\n    };\n\n    var xhr = new XMLHttpRequest();\n\n    xhr.onerror = isOffline;\n    xhr.ontimeout = isOffline;\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === xhr.HEADERS_RECEIVED) {\n        if (xhr.status) {\n          isOnline();\n        } else {\n          isOffline();\n        }\n      }\n    };\n\n    xhr.open(\"GET\", url);\n    xhr.timeout = timeout;\n    xhr.send();\n  });\n};\n\nvar propTypes = {\n  children: _propTypes2.default.node,\n  onChange: _propTypes2.default.func,\n  polling: _propTypes2.default.oneOfType([_propTypes2.default.shape({\n    url: _propTypes2.default.string,\n    interval: _propTypes2.default.number,\n    timeout: _propTypes2.default.number\n  }), _propTypes2.default.bool]),\n  wrapperType: _propTypes2.default.string\n};\n\nvar defaultProps = {\n  polling: true,\n  wrapperType: \"span\"\n};\n\nvar defaultPollingConfig = {\n  enabled: inBrowser && unsupportedUserAgentsPattern.test(navigator.userAgent),\n  url: \"https://httpbin.org/get\",\n  timeout: 5000,\n  interval: 5000\n};\n\n// base class that detects offline/online changes\n\nvar Base = function (_Component) {\n  _inherits(Base, _Component);\n\n  function Base() {\n    _classCallCheck(this, Base);\n\n    var _this = _possibleConstructorReturn(this, (Base.__proto__ || Object.getPrototypeOf(Base)).call(this));\n\n    _this.state = {\n      online: inBrowser && typeof navigator.onLine === \"boolean\" ? navigator.onLine : true\n    };\n    // bind event handlers\n    _this.goOnline = _this.goOnline.bind(_this);\n    _this.goOffline = _this.goOffline.bind(_this);\n    return _this;\n  }\n\n  _createClass(Base, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"online\", this.goOnline);\n      window.addEventListener(\"offline\", this.goOffline);\n\n      if (this.getPollingConfig().enabled) {\n        this.startPolling();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"online\", this.goOnline);\n      window.removeEventListener(\"offline\", this.goOffline);\n\n      if (this.pollingId) {\n        this.stopPolling();\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _props = this.props,\n          children = _props.children,\n          wrapperType = _props.wrapperType;\n\n      // usual case: one child that is a react Element\n\n      if ((0, _react.isValidElement)(children)) {\n        return children;\n      }\n\n      // no children\n      if (!children) {\n        return null;\n      }\n\n      // string children, multiple children, or something else\n      return _react.createElement.apply(undefined, [wrapperType, {}].concat(_toConsumableArray(_react.Children.toArray(children))));\n    }\n  }, {\n    key: \"getPollingConfig\",\n    value: function getPollingConfig() {\n      switch (this.props.polling) {\n        case true:\n          return defaultPollingConfig;\n        case false:\n          return { enabled: false };\n        default:\n          return Object.assign({}, defaultPollingConfig, this.props.polling);\n      }\n    }\n  }, {\n    key: \"goOnline\",\n    value: function goOnline() {\n      if (!this.state.online) {\n        this.callOnChangeHandler(true);\n        this.setState({ online: true });\n      }\n    }\n  }, {\n    key: \"goOffline\",\n    value: function goOffline() {\n      if (this.state.online) {\n        this.callOnChangeHandler(false);\n        this.setState({ online: false });\n      }\n    }\n  }, {\n    key: \"callOnChangeHandler\",\n    value: function callOnChangeHandler(online) {\n      if (this.props.onChange) {\n        this.props.onChange(online);\n      }\n    }\n  }, {\n    key: \"startPolling\",\n    value: function startPolling() {\n      var _this2 = this;\n\n      var _getPollingConfig = this.getPollingConfig(),\n          interval = _getPollingConfig.interval;\n\n      this.pollingId = setInterval(function () {\n        var _getPollingConfig2 = _this2.getPollingConfig(),\n            url = _getPollingConfig2.url,\n            timeout = _getPollingConfig2.timeout;\n\n        ping({ url: url, timeout: timeout }).then(function (online) {\n          online ? _this2.goOnline() : _this2.goOffline();\n        });\n      }, interval);\n    }\n  }, {\n    key: \"stopPolling\",\n    value: function stopPolling() {\n      clearInterval(this.pollingId);\n    }\n  }]);\n\n  return Base;\n}(_react.Component);\n\nBase.propTypes = propTypes;\nBase.defaultProps = defaultProps;\n\nvar Online = exports.Online = function (_Base) {\n  _inherits(Online, _Base);\n\n  function Online() {\n    _classCallCheck(this, Online);\n\n    return _possibleConstructorReturn(this, (Online.__proto__ || Object.getPrototypeOf(Online)).apply(this, arguments));\n  }\n\n  _createClass(Online, [{\n    key: \"render\",\n    value: function render() {\n      return this.state.online ? this.renderChildren() : null;\n    }\n  }]);\n\n  return Online;\n}(Base);\n\nOnline.propTypes = propTypes;\nOnline.defaultProps = defaultProps;\n\nvar Offline = exports.Offline = function (_Base2) {\n  _inherits(Offline, _Base2);\n\n  function Offline() {\n    _classCallCheck(this, Offline);\n\n    return _possibleConstructorReturn(this, (Offline.__proto__ || Object.getPrototypeOf(Offline)).apply(this, arguments));\n  }\n\n  _createClass(Offline, [{\n    key: \"render\",\n    value: function render() {\n      return !this.state.online ? this.renderChildren() : null;\n    }\n  }]);\n\n  return Offline;\n}(Base);\n\nOffline.propTypes = propTypes;\nOffline.defaultProps = defaultProps;\n\nvar Detector = exports.Detector = function (_Base3) {\n  _inherits(Detector, _Base3);\n\n  function Detector() {\n    _classCallCheck(this, Detector);\n\n    return _possibleConstructorReturn(this, (Detector.__proto__ || Object.getPrototypeOf(Detector)).apply(this, arguments));\n  }\n\n  _createClass(Detector, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.render({ online: this.state.online });\n    }\n  }]);\n\n  return Detector;\n}(Base);\n\nDetector.propTypes = Object.assign({}, propTypes, {\n  render: _propTypes2.default.func.isRequired\n});\nDetector.defaultProps = defaultProps;\n"],
  "mappings": "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",
  "names": ["ping", "isOnline", "isOffline", "Base", "Online", "Offline", "Detector"]
}
